<ng-container *ngIf="(config.row$ | async) as rows">
  <table class="MoyTable" [dataSource]="rows" mat-table multiTemplateDataRows [trackBy]="rowFn">
    <!-- Column Defs -->
    <ng-container [matColumnDef]="column" *ngFor="let column of config.columns; trackBy: columnFn">
      <th mat-header-cell *matHeaderCellDef>{{ column | titlecase }}</th>

      <td mat-cell *matCellDef="let row; let index = dataIndex">
        <moy-input [config]="row.cellMap[column].content"></moy-input>
      </td>
    </ng-container>

    <ng-container matColumnDef="totalColumns">
      <td mat-footer-cell *matFooterCellDef [attr.colspan]="config.columns.length">
        Showing: {{ rows.length }} / {{ config.totalRows }}
      </td>
    </ng-container>

    <!-- Row Defs -->
    <tr mat-header-row *matHeaderRowDef="config.columns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; let index = dataIndex; columns: config.columns"
      [ngClass]="{ pair: index % 2 === 0, 'not-pair': index % 2 !== 0 }">
    </tr>
    <tr mat-footer-row *matFooterRowDef="['totalColumns']; sticky: true"></tr>
  </table>
</ng-container>
